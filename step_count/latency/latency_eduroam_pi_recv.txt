Last login: Mon Mar 11 19:45:47 on ttys001

The default interactive shell is now zsh.
To update your account to use zsh, please run `chsh -s /bin/zsh`.
For more details, please visit https://support.apple.com/kb/HT208050.
(base) s-169-232-86-45:Team4 Isabella$ ssh pi@raspberrypi.local
pi@raspberrypi.local's password: 
Linux raspberrypi 6.1.21+ #1642 Mon Apr  3 17:19:14 BST 2023 armv6l

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
Last login: Sun Mar 10 19:02:27 2024
(base) pi@raspberrypi:~ $ ps aux | grep step_count
root       431  0.0  0.5  13336  2204 ?        S    19:48   0:00 sudo bash -c /usr/bin/python3.9 /home/pi/step_count_client_pi.py > /home/pi/step_count_client_pi.log 2>&1
root       439  0.0  0.3   7748  1248 ?        S    19:48   0:00 bash -c /usr/bin/python3.9 /home/pi/step_count_client_pi.py > /home/pi/step_count_client_pi.log 2>&1
root       443  0.4  7.1  58140 26756 ?        S    19:48   0:09 /usr/bin/python3.9 /home/pi/step_count_client_pi.py
pi        1568  0.0  0.5   7564  2048 pts/0    S+   20:20   0:00 grep --color=auto step_count
(base) pi@raspberrypi:~ $ sudo pkill -f step_count
(base) pi@raspberrypi:~ $ ps aux | grep step_count
pi        1584  0.0  0.5   7432  1968 pts/0    S+   20:20   0:00 grep --color=auto step_count
(base) pi@raspberrypi:~ $ ps aux | grep step_count^C
(base) pi@raspberrypi:~ $ python step_count_client_pi.py 
Current Time = 20:21:22
step count client starting
Connection returned result: 0
Received message: "169.232.86.45" on topic "/ece180d/team4/setup" with QoS 1
Current Time = 20:21:23
starting step counter
Current Time = 20:21:24
connected to server

0:00:00.003688
0:00:00.577618
0:00:00.881210
0:00:00.728954
0:00:00.965845
0:00:00.659358
0:00:00.904331
0:00:00.784330
0:00:00.802360
0:00:00.751498
0:00:00.826327
0:00:00.892281
0:00:00.755526
0:00:00.814588
0:00:00.815031
0:00:00.901033
0:00:00.756711
0:00:00.827403
0:00:00.818712
0:00:00.831927
0:00:00.830582
0:00:00.793315
0:00:00.904870
0:00:00.775182
0:00:00.806156
0:00:00.758220
0:00:00.826814
0:00:00.802373
0:00:01.816696
0:00:00.021989
0:00:00.633716
0:00:00.794898
0:00:00.812485
0:00:00.883073
0:00:00.781198
0:00:00.824545
0:00:00.993365
0:00:00.592692
0:00:00.999865
0:00:00.602186
0:00:00.816813
0:00:00.823436
0:00:00.927548
0:00:00.729178
0:00:00.823828
0:00:00.811315
0:00:00.820988
0:00:00.866952
0:00:00.772578
0:00:00.769374
0:00:00.840763
0:00:00.882535
0:00:00.782613
0:00:00.829116
0:00:00.815755
0:00:00.823620
0:00:00.918717
0:00:00.738216
0:00:00.864822
0:00:00.790269
0:00:00.807697
0:00:00.885627
0:00:00.783318
0:00:00.899689
0:00:00.723983
0:00:00.878081
0:00:00.912292
0:00:00.662290
0:00:00.836991
0:00:00.812941
0:00:00.833781
0:00:00.805111
0:00:00.906026
0:00:00.739444
0:00:00.831657
0:00:00.883953
0:00:00.730430
0:00:00.801549
0:00:00.825175
0:00:00.818221
0:00:00.810390
0:00:00.910566
0:00:00.755609
0:00:00.811609
0:00:00.875266
0:00:00.744410
0:00:00.790740
0:00:00.811744
0:00:00.933822
0:00:00.687113
0:00:00.885658
0:00:00.732000
0:00:00.898452
0:00:00.733532
0:00:00.836974
0:00:00.806444
0:00:00.830693
0:00:00.831425
0:00:00.836965
0:00:00.876178
0:00:00.736718
0:00:00.832845
0:00:00.873364
0:00:00.727710
0:00:00.808270
0:00:00.815273
0:00:00.925673
0:00:00.695090
0:00:00.918906
0:00:00.720509
0:00:00.877511
0:00:00.743594
0:00:00.820044
0:00:00.812060
0:00:00.808749
0:00:00.948418
0:00:00.695570
0:00:01.500421
0:00:00.076028
0:00:00.911600
0:00:00.737650
0:00:00.838881
0:00:00.792474
0:00:00.830372
0:00:00.956484
0:00:00.644987
0:00:00.815045
0:00:00.779846
0:00:00.905650
0:00:00.763758
0:00:00.865164
0:00:00.745262
0:00:00.832778
0:00:00.854494
0:00:00.732159
0:00:00.796465
0:00:00.823672
0:00:00.930232
0:00:00.690038
0:00:00.868247
0:00:00.775061
0:00:00.856920
0:00:00.764381
0:00:00.865507
0:00:00.782198
0:00:00.848932
0:00:00.881124
0:00:00.749118
0:00:00.884919
0:00:00.787965
0:00:00.813254
0:00:01.032115
0:00:00.651208
0:00:00.742262
0:00:00.816800
0:00:00.924679
0:00:00.714997
0:00:00.911347
0:00:00.690546
0:00:00.887407
0:00:00.710702
0:00:00.860949
0:00:00.761380
0:00:00.820002
0:00:00.983880
0:00:00.668466
0:00:00.811549
0:00:00.818270
0:00:00.849247
0:00:00.749333
0:00:00.882923
0:00:00.757806
0:00:00.824687
0:00:00.976848
0:00:00.681226
0:00:00.893281
0:00:00.768836
0:00:00.883633
0:00:00.734342
0:00:00.841325
0:00:00.819384
0:00:00.813551
0:00:00.911217
0:00:00.746834
0:00:00.887569
0:00:00.756537
0:00:00.825802
0:00:00.841589
0:00:00.752337
0:00:00.839094
0:00:00.821331
0:00:00.867732
0:00:00.765643
0:00:00.883705
0:00:00.769395
0:00:00.830178
0:00:00.942416
0:00:00.686253
0:00:00.886200
0:00:00.782341
0:00:00.790249
0:00:00.759294
0:00:00.813516
0:00:00.806048
0:00:00.872541
0:00:00.810848
0:00:00.793469
0:00:00.780584
0:00:00.800743
0:00:00.932309
0:00:00.719092
0:00:00.929580
0:00:00.684282
0:00:00.896573
0:00:00.804034
0:00:00.754352
0:00:00.782948
0:00:00.817772
0:00:00.925315
0:00:00.726033
0:00:00.847079
0:00:00.820583
0:00:00.835917
0:00:00.829681
0:00:00.756563
0:00:00.812704
0:00:00.808853
0:00:00.906852
0:00:00.719489
0:00:00.845024
0:00:00.742342
0:00:00.934959
0:00:00.812434
0:00:00.758942
0:00:00.758655
0:00:00.808069
0:00:00.820567
0:00:00.770808
0:00:00.835564
0:00:00.819539
0:00:00.854046
0:00:00.756439
0:00:00.908948
0:00:00.735720
0:00:00.846936
0:00:00.814365
0:00:00.748512
0:00:00.781772
0:00:00.794610
0:00:00.952693
0:00:00.663721
0:00:00.908268
0:00:00.727185
0:00:00.846852
0:00:00.764653
0:00:00.898475
0:00:00.698079
0:00:00.871863
0:00:00.826645
0:00:00.758609
0:00:00.765428
0:00:00.811623
0:00:00.941435
0:00:00.702538
0:00:00.870899
0:00:00.804661
0:00:00.864225
0:00:00.820416
0:00:00.782829
0:00:00.815753
0:00:00.816552
0:00:00.865170
0:00:00.740607
0:00:00.922589
0:00:00.740147
0:00:00.835831
0:00:00.819659
0:00:01.837109
0:00:00.095070
0:00:00.432161
0:00:00.915193
0:00:00.726485
0:00:00.848652
0:00:00.819417
0:00:00.850159
0:00:00.814719
0:00:00.756318
0:00:00.817431
0:00:00.847592
0:00:00.855346
0:00:00.744619
0:00:00.873891
0:00:00.762294
0:00:00.879464
0:00:01.913956
0:00:00.195868
0:00:00.283533
0:00:00.764102
0:00:00.924651
0:00:00.796674
0:00:00.776479
0:00:00.770989
0:00:00.905552
0:00:00.812582
0:00:00.762227
0:00:00.818719
0:00:00.808896
0:00:00.887955
0:00:00.737833
0:00:00.832246
0:00:00.798212
0:00:00.874463
0:00:00.817174
0:00:00.768652
0:00:00.749762
0:00:00.829171
0:00:00.933232
0:00:00.685184
0:00:00.883897
0:00:00.739027
0:00:00.833521
0:00:00.806026
0:00:00.880583
0:00:00.750771
0:00:00.834250
0:00:00.794305
0:00:00.814272
0:00:00.889675
0:00:00.740369
0:00:00.842707
0:00:00.815145
0:00:00.862892
0:00:00.768335
0:00:00.826650
0:00:00.794685
0:00:00.809499
0:00:00.882170
0:00:00.743464
0:00:00.827756
0:00:00.914376
0:00:00.777033
0:00:00.742271
0:00:00.829105
0:00:00.928959
0:00:00.700026
0:00:00.817210
0:00:00.839228
0:00:00.807867
0:00:00.802601
0:00:00.890432
0:00:00.741568
0:00:00.830204
0:00:00.812788
0:00:00.958422
0:00:00.658796
0:00:01.111702
0:00:00.658000
0:00:00.643799
0:00:00.788201
0:00:00.824456
0:00:00.888082
0:00:00.786285
0:00:00.792783
0:00:00.834626
0:00:00.859862
0:00:00.785750
0:00:00.795928
0:00:00.909477
0:00:00.705896
0:00:02.062329
0:00:00.122912
0:00:00.253188
0:00:00.765323
0:00:00.809172
0:00:00.803943
Process Process-2:
Process Process-1:
Traceback (most recent call last):
  File "/home/pi/berryconda3/lib/python3.6/multiprocessing/process.py", line 249, in _bootstrap
    self.run()
  File "/home/pi/berryconda3/lib/python3.6/multiprocessing/process.py", line 93, in run
    self._target(*self._args, **self._kwargs)
Traceback (most recent call last):
  File "step_count_client_pi.py", line 81, in recv_data
    recv_data = client.recv(4096).decode('utf_8')
ConnectionResetError: [Errno 104] Connection reset by peer
  File "/home/pi/berryconda3/lib/python3.6/multiprocessing/process.py", line 249, in _bootstrap
    self.run()
  File "/home/pi/berryconda3/lib/python3.6/multiprocessing/process.py", line 93, in run
    self._target(*self._args, **self._kwargs)
  File "step_count_client_pi.py", line 114, in write_acc
    client.sendall(line.encode())
BrokenPipeError: [Errno 32] Broken pipe
Current Time = 20:26:33
starting again
Current Time = 20:26:35
step count client starting
Connection returned result: 0
Received message: "169.232.86.45" on topic "/ece180d/team4/setup" with QoS 1
Current Time = 20:26:36
starting step counter
Current Time = 20:26:38
failed at socket connection
Current Time = 20:26:40
failed at socket connection
^C^C^CTraceback (most recent call last):
  File "step_count_client_pi.py", line 24, in start_client
    client.connect((ip_addr, 8080))
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "step_count_client_pi.py", line 32, in start_client
    time.sleep(2)
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "step_count_client_pi.py", line 165, in main
    mqtt_create_sub()
  File "step_count_client_pi.py", line 157, in mqtt_create_sub
    client.loop_forever()
  File "/home/pi/berryconda3/lib/python3.6/site-packages/paho/mqtt/client.py", line 1756, in loop_forever
    rc = self._loop(timeout)
  File "/home/pi/berryconda3/lib/python3.6/site-packages/paho/mqtt/client.py", line 1164, in _loop
    rc = self.loop_read()
  File "/home/pi/berryconda3/lib/python3.6/site-packages/paho/mqtt/client.py", line 1556, in loop_read
    rc = self._packet_read()
  File "/home/pi/berryconda3/lib/python3.6/site-packages/paho/mqtt/client.py", line 2439, in _packet_read
    rc = self._packet_handle()
  File "/home/pi/berryconda3/lib/python3.6/site-packages/paho/mqtt/client.py", line 3033, in _packet_handle
    return self._handle_publish()
  File "/home/pi/berryconda3/lib/python3.6/site-packages/paho/mqtt/client.py", line 3330, in _handle_publish
^C  File "/home/pi/berryconda3/lib/python3.6/site-packages/paho/mqtt/client.py", line 3570, in _handle_on_message
    on_message(self, self._userdata, message)
  File "step_count_client_pi.py", line 139, in on_message
    start_client(msg_recv)
  File "step_count_client_pi.py", line 61, in start_client
    if p0.is_alive():
UnboundLocalError: local variable 'p0' referenced before assignment

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "step_count_client_pi.py", line 165, in main
    mqtt_create_sub()
  File "step_count_client_pi.py", line 157, in mqtt_create_sub
    client.loop_forever()
  File "/home/pi/berryconda3/lib/python3.6/site-packages/paho/mqtt/client.py", line 1756, in loop_forever
    rc = self._loop(timeout)
  File "/home/pi/berryconda3/lib/python3.6/site-packages/paho/mqtt/client.py", line 1164, in _loop
    rc = self.loop_read()
  File "/home/pi/berryconda3/lib/python3.6/site-packages/paho/mqtt/client.py", line 1556, in loop_read
    rc = self._packet_read()
  File "/home/pi/berryconda3/lib/python3.6/site-packages/paho/mqtt/client.py", line 2439, in _packet_read
    rc = self._packet_handle()
  File "/home/pi/berryconda3/lib/python3.6/site-packages/paho/mqtt/client.py", line 3033, in _packet_handle
    return self._handle_publish()
  File "/home/pi/berryconda3/lib/python3.6/site-packages/paho/mqtt/client.py", line 3330, in _handle_publish
    self._handle_on_message(message)
  File "/home/pi/berryconda3/lib/python3.6/site-packages/paho/mqtt/client.py", line 3570, in _handle_on_message
^C  File "step_count_client_pi.py", line 139, in on_message
    start_client(msg_recv)
  File "step_count_client_pi.py", line 70, in start_client
    main()
  File "step_count_client_pi.py", line 167, in main
    time.sleep(2)
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "step_count_client_pi.py", line 175, in <module>
    main()
  File "step_count_client_pi.py", line 167, in main
    time.sleep(2)
KeyboardInterrupt
^C
(base) pi@raspberrypi:~ $ ^C
(base) pi@raspberrypi:~ $ 
